{% extends "layouts/main.html" %}
{% set version = "latest-pa" %}

{% block header %}
  {% include version + "/includes/header-provider.html" %}
{% endblock %}


{% block pageTitle %}
  Your applications â€“ {{ serviceName }} - GOV.UK
{% endblock %}

{% block beforeContent %}
  {% include "includes/banner.html"%}
{% endblock %}

{% block content %}

<div class="govuk-grid-row"> 
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl">
      Your applications
    </h1>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
   
    {% if data['app-state'] == "empty"  %}
      {{ govukButton({
        text: "Make a new application",
        href: "form/question-prison?question1-org=notStarted&question2-client=notStarted&question2-case=notStarted"
      }) }}

      {% set manageDraftsHTML %}        
        <p>You do not have any draft applications.</p>  
      {% endset %}
    
      {% set manageAssessedHTML %}
        <p>You do not have any applications that have been reviewed.</p>  
      {% endset %}
        
      {% set manageSubmittedHTML %}
        <p>You do not have any applications that have been submitted.</p>
      {% endset %}

      {{ govukTabs ({
        items: [
        { 
          label: "Reviewed",
          id: "manage-assessed",
          panel: {
            html: manageAssessedHTML
          }
        },
        { 
          label: "Submitted",
          id: "manage-submitted",
          panel: {
            html: manageSubmittedHTML
          }
        },
        { 
          label: "Draft",
          id: "manage-drafts",
          panel: {
            html: manageDraftsHTML
          }
        }
        ]
      }) }}

      {% else %}
      {{ govukButton({
        text: "Make a new application",
        href: "form/question-prison?question1-org=notStarted&question2-client=notStarted&question2-case=notStarted"
      }) }}

      {% set manageDraftsHTML %}
        <h2 class="govuk-heading-m">Drafts</h2>
    
        <table class="govuk-table" data-module="moj-sortable-table">
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header" aria-sort="none">UFN</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Client</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Account</th>
              <th scope="col" class="govuk-table__header" aria-sort="descending">Last updated</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">LAA reference</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Action</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">    
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=notStarted&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222002">311222/002</a></td>
              <td class="govuk-table__cell">Unknown</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230824">24 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0d</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0d" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=notStarted&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222004">311222/004</a></td>
              <td class="govuk-table__cell">Unknown</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230822">22 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0f</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0f" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=complete&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222005">311222/005</a></td>
              <td class="govuk-table__cell">Mymate Marmite</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230823">23 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0g</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0g" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=notStarted&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222006">311222/006</a></td>
              <td class="govuk-table__cell">Unknown</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">Unknown</td>
              <td class="govuk-table__cell" data-sort-value="230825">25 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0h</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0h" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=notStarted&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222007">311222/007</a></td>
              <td class="govuk-table__cell">Unknown</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">Unknown</td>
              <td class="govuk-table__cell" data-sort-value="230826">26 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0i</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0i" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=complete&question3-why-pa=complete&question3-quote=complete&question3-alt-quote=complete&changeQuote=no" class="govuk-link--no-visited-state" data-sort-value="311222008">311222/008</a></td>
              <td class="govuk-table__cell">Tommy Gofigure</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230827">27 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0j</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0j" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222007">311222/007</a></td>
              <td class="govuk-table__cell">Alecia Pink</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230801">1 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0p</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0p" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222007">311222/007</a></td>
              <td class="govuk-table__cell">Arnie Swartz</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230813">13 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0o</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0o" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222007">311222/007</a></td>
              <td class="govuk-table__cell">Melanie Griffins</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230806">6 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0n</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0n" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="form/task-list?first-use=no&app-state=all&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=notStarted&question3-why-pa=notStarted&question3-quote=notStarted&question3-alt-quote=notStarted&changeQuote=notStarted" class="govuk-link--no-visited-state" data-sort-value="311222007">311222/007</a></td>
              <td class="govuk-table__cell">Bob Holness</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230812">12 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0m</td>
              <td class="govuk-table__cell"><a href="crm-apps-delete?laa-ref=LAA-9p4f0m" class="govuk-link--no-visited-state">
                Delete</a></td>
            </tr>
          </body>
        </table>
        <nav class="moj-pagination" aria-label="Pagination navigation">
          <ul class="moj-pagination__list">
            <li class="govuk-pagination__item govuk-pagination__item--current"><a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 1 of 3">1</a></li>
            <li class="govuk-pagination__item"><a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 2 of 3">2</a></li>
            <li class="govuk-pagination__item "><a class="govuk-link govuk-pagination__link" href="#" aria-label="Page 3 of 3">3</a></li>
            <li class="govuk-pagination__item  govuk-pagination__next">
              <a class="govuk-link govuk-pagination__link" href="#" rel="next">
              <span class="govuk-pagination__link-title">
                Next<span class="govuk-visually-hidden"> page</span>
              </span>
              <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
              </svg>
            </a>
            </li>
          </ul>
          <p class="moj-pagination__results">Showing <b>1</b> to <b>10</b> of <b>22</b> work items</p>
        </nav>
      {% endset %}

      {% set manageAssessedHTML %}
        <h2 class="govuk-heading-m">Reviewed</h2>          
        <table class="govuk-table" data-module="moj-sortable-table">
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header" aria-sort="none">UFN</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Client</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Account</th>
              <th scope="col" class="govuk-table__header" aria-sort="descending">Last updated</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">LAA reference</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Status</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">                
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="application-details?question1-org=complete&ufn=100323/342&laa-ref=LAA-1z5f7w&app-task=Granted" class="govuk-link--no-visited-state" data-sort-value="100323342">100323/342</a></td>
              <td class="govuk-table__cell">Roger Catapult</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230901">1 Sept 2023</td>
              <td class="govuk-table__cell">LAA-1z5f7w</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--green">Granted</strong></td>
            </tr>
            
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="application-details?ufn=311222/003&laa-ref=LAA-9p4f0e&app-task=Expired" class="govuk-link--no-visited-state" data-sort-value="311222003">311222/003</a></td>
              <td class="govuk-table__cell">Jamie Innes</td>
              <td class="govuk-table__cell" data-sort-value="C1B1C1">C1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230821">21 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0e</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--red">Expired</strong></td>
            </tr>
            
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="application-details?app-task=Review&first-use=no&app-state=all&ufn=301222/003&laa-ref=LAA-6p4f0r&question-ufn=complete&question1-org=complete&question2-client=complete&question2-case=complete&question3-why-pa=complete&question3-quote=complete&question3-alt-quote=complete" class="govuk-link--no-visited-state" data-sort-value="301222003">301222/003</a></td>
              <td class="govuk-table__cell">Dami Olu</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="240307">7 March 2024</td>
              <td class="govuk-table__cell">LAA-6p4f0r</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--yellow">Update needed</strong></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="application-details?ufn=311222/003&laa-ref=LAA-9p4f0e&app-task=Rejected" class="govuk-link--no-visited-state" data-sort-value="311222003">311222/003</a></td>
              <td class="govuk-table__cell">Bobby Brownie</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230821">21 Aug 2023</td>
              <td class="govuk-table__cell">LAA-9p4f0e</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--red">Rejected</strong></td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell"><a href="application-details?question1-org=complete&ufn=202323/342&laa-ref=LAA-1z5f76&app-task=Part granted" class="govuk-link--no-visited-state" data-sort-value="202323342">202323/342</a></td>
              <td class="govuk-table__cell">Ishia Melta</td>
              <td class="govuk-table__cell" data-sort-value="C1B1C1">C1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="230901">1 Sept 2023</td>
              <td class="govuk-table__cell">LAA-1z5f76</td>
              <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--blue">Part granted</strong></td>
            </tr>
          </body>
        </table>
      {% endset %}
    
      {% set manageSubmittedHTML %}
        <h2 class="govuk-heading-m">Submitted
        </h2>          
        <table class="govuk-table" data-module="moj-sortable-table">
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header" aria-sort="none">UFN</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Client</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">Account</th>
              <th scope="col" class="govuk-table__header" aria-sort="descending">Last updated</th>
              <th scope="col" class="govuk-table__header" aria-sort="none">LAA reference</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">    
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">
                <a href="application-details?question1-org=complete&ufn=230323/314&laa-ref=LAA-4f6e2b&app-task=Submitted" class="govuk-link--no-visited-state" data-sort-value="230323314">230323/314</a>
              </td>
              <td class="govuk-table__cell">Roger Blackbeard</td>
              <td class="govuk-table__cell" data-sort-value="A1B1C1">A1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="231114">14 Nov 2023</td>
              <td class="govuk-table__cell">LAA-4f6e2b</td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">
              <a href="application-details?question1-org=complete&ufn=231123/114&laa-ref=LAA-6t3d5w&app-task=Returned" class="govuk-link--no-visited-state" data-sort-value="231123114">231123/114</a>
              </td>
              <td class="govuk-table__cell">Dami Olu</td>
              <td class="govuk-table__cell" data-sort-value="C1B1C1">C1B1C1</td>
              <td class="govuk-table__cell" data-sort-value="240309"><span id="date"></span></td>
              <td class="govuk-table__cell">LAA-6t3d5w</td>
            </tr>
          </body>
        </table>
      {% endset %}

      {{ govukTabs ({
        items: [
        { 
          label: "Reviewed",
          id: "manage-assessed",
          panel: {
            html: manageAssessedHTML
          }
        },
        { 
          label: "Submitted",
          id: "manage-submitted",
          panel: {
            html: manageSubmittedHTML
          }
        },
        { 
          label: "Draft",
          id: "manage-drafts",
          panel: {
            html: manageDraftsHTML
          }
        }
        ]
      }) }}
              
    {% endif %}    
    
  </div>
  <div class="govuk-grid-column-one-third">
      
  </div>
</div>

{% endblock %}
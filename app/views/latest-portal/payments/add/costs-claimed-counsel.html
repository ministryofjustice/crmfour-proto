{% extends "layouts/main-latest.html" %}

{% set version = "latest-portal" %}
{% set activePrimeNav = [true, false] %}
{% set activeSubNav = [false, true, false] %}


{% block header %}
  {% include version +"/includes/header-portal-payments.njk"%}  
{% endblock %}

{% block pageTitle %}
  Claimed costs – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
  {% include "includes/banner.html"%}
  
  
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      
      <form class="form" action="costs-allowed-counsel" method="post">

        <h1 class="govuk-heading-xl">Claimed costs</h1>  

          <!--Hidden inputs to make the same JS calc for NSM claimed costs still work -->
          <input type="hidden" id="claimedProfit" name="claimedProfit" value="{{data['claimedProfit']}}" />
          <input type="hidden" id="claimedTravel" name="claimedTravel" value="{{data['claimedTravel']}}" />
          <input type="hidden" id="claimedWaiting" name="claimedWaiting" value="{{data['claimedWaiting']}}" />
          <input type="hidden" id="claimedDisbursement" name="claimedDisbursement" value="{{data['claimedDisbursement']}}" />

          {{ govukInput({
            id: "claimedCounselNet",
            name: "claimedCounselNet",
            label: {
              text: "Assigned counsel total (NET)",
              classes: "govuk-label--s",
              isPageHeading: false
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5",
            spellcheck: false
          }) }}

          {{ govukInput({
            id: "claimedCounselVAT",
            name: "claimedCounselVAT",
            label: {
              text: "VAT on assigned counsel costs",
              classes: "govuk-label--s",
              isPageHeading: false
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5",
            spellcheck: false
          }) }}

        <input type="hidden" id="paymentClaimedTotal" name="paymentClaimedTotal" value="{{data['paymentClaimedTotal']}}" />
        <button class="govuk-button govuk-button--secondary" type="button" onclick="calPaymentClaimedTotal()">Calculate cost</button>
        <p class="govuk-heading-l">
          <span class="govuk-caption-m">Total claimed cost</span> £
          <span id="showpaymentClaimedTotal">0.00</span>
        </p>


        <div class="govuk-button-group">
          {{ govukButton({
            text: "Save and continue"
          }) }}

          {{ govukButton({
            text: "Save and come back later",
            classes: "govuk-button--secondary",
            href: "../crm-apps-reviewed?claims-state=all"
          }) }}
        </div>

      </form>

    </div>
  </div>

{% endblock %}

{% block pageScripts %}
  <script src="/public/javascripts/calculate.js"></script>
{% endblock %}


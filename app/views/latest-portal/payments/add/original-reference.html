{% extends "layouts/main.html" %}

{% set version = "latest-portal" %}
{% set activePrimeNav = [true, false] %}
{% set activeSubNav = [false, true, false] %}


{% block header %}
  {% include version +"/includes/header-portal-payments.njk"%}  
{% endblock %}

{% block pageTitle %}
  Is there an LAA reference – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
  {% include "includes/banner.html"%}

  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <form class="form" action="/{{version}}/question-original-reference" method="post">
      
      {% if data['paymentType'] =="Non-standard magistrates' - supplemental" or data['paymentType'] =="Non-standard magistrates' - appeal" or data['paymentType'] =="Non-standard magistrates' - amendment"%}    
        <h1 class="govuk-heading-xl">Is there an LAA reference for the original claim?</h1>

            <!--Check for original LAA reference-->
            {{ govukRadios({
              name: "originalReference",
              fieldset: {
                legend: {
                  text: "",
                  isPageHeading: false,
                  classes: "govuk-fieldset__legend--s"
                }
              },
              items: [
                {
                  value: "Yes",
                  text: "Yes",
                  checked: checked("originalReference", "Yes")
                },
                {
                  value: "No",
                  text: "No",
                  checked: checked("originalReference", "No")
                }
              ]
            }) }}
            
      {% endif %}
          
        <!--buttons-->
        <div class="govuk-button-group">
          {{ govukButton({
            text: "Save and continue"
          }) }}

        </div>

      </form>
    </div>
  </div>

{% endblock %}

{% block pageScripts %}
    <script src="/public/javascripts/accessible-autocomplete.min.js"></script>

    <script>
        let selectElements = $('.autocomplete-select')
        let placeholder = ''

        selectElements.each(function (index) {
          let selectElement = $(this)
          if (selectElement.length) {
            if (selectElement.attr('autocomplete-placeholder')) {
              placeholder = selectElement.attr('autocomplete-placeholder')
            }

            accessibleAutocomplete.enhanceSelectElement({
              confirmOnBlur: false,
              autoSelect: true,
              displayMenu: 'overlay',
              minLength: 1,
              showNoOptionsFound: true,
              showAllValues: false,
              placeholder: placeholder,
              selectElement: selectElement[0],
            })
          }
        })

    </script>

{% endblock %}
